(function(t){function e(e){for(var i,r,a=e[0],l=e[1],c=e[2],d=0,m=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00fe":function(t,e,n){},"061d":function(t,e,n){t.exports=n.p+"img/place-plus.fcccab60.png"},"06d4":function(t,e,n){t.exports=n.p+"img/6.10908c2f.jpg"},"089e":function(t,e,n){t.exports=n.p+"img/test_text.02ff83e4.jpg"},"08af":function(t,e,n){"use strict";n("bfc3")},"0a36":function(t,e,n){},"0f11":function(t,e,n){},"11d9":function(t,e,n){t.exports=n.p+"img/3.920e8a69.jpg"},"13cd":function(t,e,n){},1427:function(t,e,n){t.exports=n.p+"img/empty.3fc2815f.png"},"15ea":function(t,e,n){t.exports=n.p+"img/8.8b4a2ecc.jpg"},"1b60":function(t,e,n){"use strict";n("0f11")},"22bc":function(t,e,n){t.exports=n.p+"img/max_1.3e4675e3.png"},2909:function(t,e,n){t.exports=n.p+"img/minus-1.6e62c31f.png"},"324b":function(t,e,n){"use strict";n("13cd")},"32a5":function(t,e,n){t.exports=n.p+"img/7.71816655.jpg"},"405a":function(t,e,n){t.exports=n.p+"img/2.f44ef1e4.jpg"},"416a":function(t,e,n){var i={"./1.jpg":"8554","./2.jpg":"405a","./3.jpg":"11d9","./4.jpg":"bafb","./5.jpg":"4d0f","./6.jpg":"06d4","./7.jpg":"32a5","./8.jpg":"15ea","./9.jpg":"6d96","./test_text.jpg":"089e"};function s(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="416a"},"462c":function(t,e,n){t.exports=n.p+"img/plus-4.3bb31d18.png"},"4a44":function(t,e,n){"use strict";n("0a36")},"4c16":function(t,e,n){t.exports=n.p+"img/line-turn.83c70d32.png"},"4d0f":function(t,e,n){t.exports=n.p+"img/5.734838fd.jpg"},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"}},[e("Header",{attrs:{s:t.status,t:t.t}}),e("router-view")],1)},o=[],r=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("header",{staticStyle:{height:"80px","background-color":"#ccccff"}},[e("div",[e("h2",{staticStyle:{"padding-top":"14px"}},[t._v("С днем рождения, Любимая")]),e("div",{staticClass:"post-detail"},[e("span",{staticClass:"post-info"},[e("span",[t._v("Июль 31, 2023")])])])])])}],l={name:"Header",props:{t:String,s:String}},c=l,u=(n("08af"),n("2877")),d=Object(u["a"])(c,r,a,!1,null,"4519a1fb",null),m=d.exports;function p(t){t.currentTarget.acontroller.abort()}var g={name:"App",components:{Header:m},data:()=>({t:"1",tasks_completed:[],marker_necessary:[],marker_type:"",current_msg:"",current_emoji:"",current_delay:0,status_msgs:{begin:[{text:"С днем рождения, Любимая!!!",delay:2500,emoji:"max_4"},{text:"Сегодня в твоей квартире будет праздник. Проходи в комнату, тебя ждет первое задание.",delay:3e3,emoji:"max_1"},{text:"Тебе нужно будет составить слово из букв на шарах. Слово это подскажет путь истинный.",delay:5e3,emoji:"max_1"},{text:"Удачи!",delay:1e3,emoji:"max_3",next_status:"scan_baloons_dlg1"}],scan_baloons_dlg1:[{text:"После составления слов тебе нужно будет сфотографировать его для определения корректности.",delay:1e4,emoji:"max_1"},{text:'Просто наведи камеру на шарики и нажми кнопку "Сделать фото"',delay:3500,emoji:"max_1",next_status:"scan_baloons"}],scan_models_dlg1:[{text:"Верно, умничка)",delay:2e3,emoji:"max_6"},{text:"Слово это - подсказка тебе. Предлагаю использовать камеру и найти праздничное лакомство.",delay:3e3,emoji:"max_7",next_status:"scan_models"}],scan_models_dlg2:[{text:"Хм, похоже это оно. Изучи внимательно, возможно ты что то найдешь...",delay:3e3,emoji:"max_2",next_status:"strawberry"}],strawberry_found:[{text:"Ура, ты нашла вкусную клубничку!",delay:1500,emoji:"max_8"},{text:"Хочешь пойти дальше?) ",delay:1e3,emoji:"max_1"},{text:"Знаю, что хочешь)",delay:1e3,emoji:"max_5"},{text:"Итак, далее ты отправляешься в свободное плавание. Дам тебе небольшую подсказку - ",delay:3e3,emoji:"max_7"}],end:[{text:"Вот и все, все задания завершены.",delay:2e3,emoji:"max_3"},{text:"С днем рождения, Любимая!!! Пусть этот год принесет тебе море положительных эмоций!",delay:2e3,emoji:"max_4"}]},status:"begin"}),watch:{tasks_completed(t){t.includes("taskphotos")&&t.includes("labirint")&&(this.status="end")}},methods:{async startDialog(){const t=this.status_msgs[this.status];if(void 0==t)return void(this.current_msg="");const e=document.querySelector("#msg");for(let i=0;i<t.length;i++){const s=t[i];console.log("удален"),e.removeEventListener("click",p),this.current_msg=s.text,this.current_emoji=s.emoji,this.current_delay=s.delay,await this.timeout_msg(s.delay),console.log("добавлен");let o=new AbortController,r=o.signal;e.addEventListener("click",p),e.acontroller=o;try{await this.timeout_click(r)}catch(n){}i==t.length-1&&(this.current_msg=""),s.hasOwnProperty("next_status")&&(this.status=s.next_status)}}},async mounted(){}},h=g,_=(n("d03d"),Object(u["a"])(h,s,o,!1,null,null,null)),f=_.exports,y=n("f309");i["a"].use(y["a"]);var b=new y["a"]({}),x=n("8c4f"),v=n("8336"),w=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:"labirint"==t.status,expression:"status == 'labirint'"}]},[e("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"4px"}},[e("div",{staticClass:"grid"},[e("div",[e("h2",[t._v("Текущее значение: "+t._s(t.currentBall))]),e("h3",{staticStyle:{"margin-bottom":"20px"}},[t._v("Требуется: "+t._s(t.ball_need))])]),e(v["a"],{attrs:{color:"#BBDEFB"},on:{click:function(e){return t.resetList()}}},[t._v(" Сбросить ")])],1)]),e("draggable",{staticStyle:{width:"310px",position:"absolute",left:"0",right:"0",margin:"0 auto"},attrs:{move:t.handleMove,delay:"60"},on:{end:t.handleDragEnd},nativeOn:{click:function(e){return t.test.apply(null,arguments)}},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},t._l(t.list,(function(n,i){return e("div",{key:i,staticStyle:{display:"inline-block"}},[i>24&&i<30?[e("div",{staticStyle:{"background-color":"rgb(29, 54, 64)",margin:"30px 1px 1px 1px",width:"60px",height:"60px"}},[e("img",{staticClass:"field",class:n.class,staticStyle:{transition:"all 0.5s ease-in-out"},attrs:{id:n.id,deg:"0",src:t.getImgUrl(n.img),width:"60px",height:"60px"}})])]:[e("div",{staticStyle:{"background-color":"rgb(29, 54, 64)",margin:"1px",width:"60px",height:"60px"}},[e("img",{staticClass:"field",class:n.class,staticStyle:{transition:"all 0.5s ease-in-out"},attrs:{id:n.id,deg:"0",src:t.getImgUrl(n.img),width:"60px",height:"60px"}})])]],2)})),0)],1),e("Actor",{attrs:{message:t.current_msg,emoji:t.current_emoji,delay:t.current_delay}})],1)},j=[],k=(n("13d5"),n("b7ef"),n("b76a")),S=n.n(k),I=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.message,expression:"message != ''"}]},[t._m(0),e("div",{staticStyle:{position:"absolute",bottom:"30px",right:"10px"}},[e("img",{attrs:{src:t.getImgUrl(this.emoji),alt:"",height:"90px"}})])])},E=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg",attrs:{id:"msg"}},[e("div",{staticClass:"msg_text",attrs:{id:"msg_text"}})])}],P={name:"Actor",props:{message:String,emoji:String,delay:Number},data(){return{show_continue:!1}},watch:{message(t){null!=t&&void 0!=t&&this.typeWriter()}},methods:{timeout(t){return new Promise(e=>setTimeout(e,t))},async typeWriter(){console.log(this.message.length);const t=document.getElementById("msg_text");t.innerHTML="";for(const e of this.message)t.innerHTML+=e," "!=e&&await this.timeout(90);setTimeout(()=>{this.show_continue=!0,t.innerHTML+='<div style="font-size: 12px; color: #969696">Нажми для продолжения</div>'},0)},getImgUrl(t){if(""==t||null==t)return null;const e=n("9142");return e("./"+t+".png")}}},O=P,D=(n("324b"),Object(u["a"])(O,I,E,!1,null,"af85d3f8",null)),A=D.exports;function C(t){t.currentTarget.acontroller.abort()}var N={name:"Labirint",components:{draggable:S.a,Actor:A},data(){return{current_msg:"",current_emoji:"",current_delay:0,status_msgs:{labirint_dlg1:[{text:"О, старый добрый лабиринт. Тебе это уже знакомо, поэтому можешь отправляться сразу в бой.",delay:7750,emoji:"max_1",next_status:"labirint"}],labirint_dlg2:[{text:"Тебе удалось пройти его, Умничка!",delay:2900,emoji:"max_3"},{text:"Теперь поразмысли - что там может находиться?",delay:4e3,emoji:"max_2"},{text:"Давай проверим, отгадала ли ты. Можешь распаковать.",delay:4500,emoji:"max_1"}]},status:"labirint_dlg1",types:{"place-plus":["plus"],"place-minus":["minus"],empty:["line","line-turn"],line:["empty","line-turn"],"line-turn":["empty","line"],plus:["plus","place_plus"],minus:["minus","place-minus"]},complete:!1,drop_none:!1,ball_need:5,movingIndex:0,futureIndex:0,dragging:!1,list_begin:[{id:0,type:"empty",count:0,img:"empty"},{id:1,type:"place-plus",count:0,img:"place-plus"},{id:2,type:"empty",count:0,img:"empty"},{id:3,type:"empty",count:0,img:"block",blocked:!0},{id:4,type:"empty",count:0,img:"block",blocked:!0},{id:5,type:"place-plus",count:0,img:"place-plus"},{id:6,type:"empty",count:0,img:"empty"},{id:7,type:"empty",count:0,img:"empty"},{id:8,type:"place-plus",count:0,img:"place-plus"},{id:9,type:"empty",count:0,img:"empty"},{id:10,type:"empty",count:0,img:"empty"},{id:11,type:"empty",count:0,img:"empty"},{id:12,type:"empty",count:0,img:"end",blocked:!0,class:"rotate-180"},{id:13,type:"place-minus",count:0,img:"place-minus"},{id:14,type:"empty",count:0,img:"empty"},{id:15,type:"empty",count:0,img:"empty"},{id:16,type:"place-plus",count:0,img:"place-plus"},{id:17,type:"empty",count:0,img:"empty"},{id:18,type:"empty",count:0,img:"line-turn-block",blocked:!0,class:"rotate-180"},{id:19,type:"place-plus",count:0,img:"place-plus"},{id:20,type:"empty",count:0,img:"block",blocked:!0},{id:21,type:"empty",count:0,img:"block",blocked:!0},{id:22,type:"empty",count:0,img:"start",blocked:!0},{id:23,type:"empty",count:0,img:"empty"},{id:24,type:"empty",count:0,img:"empty"},{id:25,type:"line",count:2,img:"line"},{id:26,type:"line",count:2,img:"line"},{id:27,type:"line",count:2,img:"line"},{id:28,type:"line-turn",count:1,img:"line-turn"},{id:29,type:"line-turn",count:1,img:"line-turn"},{id:30,type:"line-turn",count:1,img:"line-turn"},{id:31,type:"line-turn",count:1,img:"line-turn"},{id:32,type:"line-turn",count:1,img:"line-turn"},{id:33,type:"line-turn",count:1,img:"line-turn"},{id:34,type:"line-turn",count:1,img:"line-turn"},{id:35,type:"plus",count:1,img:"plus-5"},{id:36,type:"plus",count:1,img:"plus-4"},{id:37,type:"plus",count:1,img:"plus-2"},{id:38,type:"minus",count:1,img:"minus-2"},{id:39,type:"minus",count:1,img:"minus-1"}],list:[]}},computed:{currentBall(){const t=this.list.filter((t,e)=>{if(e<25&&("plus"==t.type||"minus"==t.type))return!0});if(!t.length>0)return 0;const e=t.reduce((t,e)=>"plus"==e.type?t+Number(e.img.slice(-1)):"minus"==e.type?t-Number(e.img.slice(-1)):void 0,0);return e}},watch:{list(t){this.check(t)}},methods:{timeout_msg(t){return new Promise(e=>setTimeout(e,t))},timeout_click(t){return new Promise((e,n)=>{const i=new DOMException("aborted!","AbortError"),s=setTimeout(()=>{e("you report!")},6e5);if(t.aborted)return clearTimeout(s),n(i);t.addEventListener("abort",()=>{clearTimeout(s),n(i)})})},async startDialog(){const t=this.status_msgs[this.status];if(void 0==t)return void(this.current_msg="");const e=document.querySelector("#msg");for(let i=0;i<t.length;i++){const s=t[i];console.log("удален"),e.removeEventListener("click",C),this.current_msg=s.text,this.current_emoji=s.emoji,this.current_delay=s.delay,await this.timeout_msg(s.delay),console.log("добавлен");let o=new AbortController,r=o.signal;e.addEventListener("click",C),e.acontroller=o;try{await this.timeout_click(r)}catch(n){}i==t.length-1&&(this.current_msg=""),s.hasOwnProperty("next_status")&&(this.status=s.next_status)}},resetList(){this.list=JSON.parse(JSON.stringify(this.list_begin))},check(t){console.log("start");for(let e=0;e<t.length;e++)switch(e){case 6:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 7:if("line"!=t[e].type)return;{const n=Number(document.getElementById(t[e].id).getAttribute("deg"))%360;if(0!=n&&180!=n)return}break;case 8:if("plus"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=0)return;break;case 9:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=270)return;break;case 10:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 11:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=0)return;break;case 13:if("minus"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 14:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=0)return;break;case 15:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=90)return;break;case 16:if("plus"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 17:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=270)return;break}this.currentBall==this.ball_need&&(this.complete=!0,this.status="labirint_dlg2",this.startDialog())},getImgUrl(t){const e=n("9142");return e("./"+t+".png")},handleDragEnd(){if(this.drop_none)return void(this.drop_none=!1);this.futureItem=this.list[this.futureIndex],this.movingItem=this.list[this.movingIndex];const t=Object.assign([],this.list);t[this.futureIndex]=this.movingItem,t[this.movingIndex]=this.futureItem;const e=document.getElementById(this.movingItem.id);e.setAttribute("deg",0),e.style.transform="rotate(0deg)";const n=document.getElementById(this.futureItem.id);n.setAttribute("deg",0),n.style.transform="rotate(0deg)",this.list=t},handleMove(t){const e=t.relatedContext;if(e.element.blocked)return this.drop_none=!0,!1;const{index:n,futureIndex:i,element:s}=t.draggedContext;return s.blocked?(this.drop_none=!0,!1):this.types[e.element.type].includes(s.type)?(this.movingIndex=n,this.futureIndex=i,this.drop_none=!1,!1):(this.drop_none=!0,!1)},test(t){if(""==t.target.id)return;const e=this.list.find(e=>e.id===Number(t.target.id));if(void 0==e)return;if(e.blocked)return;const n=t.target;let i=0;const s=n.getAttribute("deg");i=Number(s)+Number(90),n.setAttribute("deg",i),n.style.transform="rotate("+i+"deg)",setTimeout(()=>{this.check(this.list)},500)}},mounted(){this.list=JSON.parse(JSON.stringify(this.list_begin)),this.startDialog()}},T=N,L=(n("1b60"),Object(u["a"])(T,w,j,!1,null,null,null)),B=L.exports,M=n("4ca6"),U=n("62ad"),F=n("a523"),z=n("132d"),$=n("0fd9"),H=n("3a2f"),J=function(){var t=this,e=t._self._c;return e("div",[e(F["a"],{staticClass:"container_anim"},["carousel"==t.status?e("div",{staticClass:"photos_carousel"},[e("PhotosCarousel",{staticClass:"container_anim",attrs:{PhotosData:t.photos},on:{further:t.completed}})],1):t._e(),e("div",[e("DialogPhoto",{attrs:{img:t.selectedImg},on:{"close-photo-dialog":function(e){return t.closePhoto()}}})],1),"begin"==t.status||"completed"==t.status?[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("div",{staticStyle:{"justify-content":"center",display:"flex"}},[e("span",{staticStyle:{"font-family":"'Playfair Display SC', serif"}},[t._v(" Моменты жизни ")])])]),e($["a"],{on:{click:function(e){return t.clickPhoto(e)}}},t._l(t.photos,(function(n){return e(U["a"],{key:"col_"+n.id,staticStyle:{width:"100%",height:"171px"},attrs:{cols:"4"}},[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("img",{staticStyle:{"touch-action":"manipulation"},attrs:{id:n.id,src:t.getImgUrl(n.file_name),width:"110px"}}),0!=n.select_number?e(M["a"],{attrs:{overlap:"",bordered:"",color:"#FF4800"},scopedSlots:t._u([{key:"badge",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(n.select_number)+" ")])]},proxy:!0}],null,!0)}):t._e()],1)])})),1),"begin"==t.status?e(H["a"],{attrs:{top:"","open-on-click":!0,"open-on-hover":!1},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(v["a"],t._g({staticStyle:{position:"absolute",bottom:"10px"},attrs:{color:"primary",icon:""},on:{click:n.click}},n),[e(z["a"],[t._v(" mdi-help ")])],1)]}}],null,!1,3486153870)},[e("div",[t._v(" Необходимо выбрать порядок фото по возрастанию даты (где 1 - самая ранняя дата, 9 - самая поздняя). "),e("ul",[e("li",[t._v("Однократное нажатие выбирает фото")]),e("li",[t._v("Двойное нажатие на фото позволяет просмотреть фото на полный экран")])])])]):t._e()]:t._e(),"completed"==t.status?[e("div",{staticClass:"complete_anim",staticStyle:{"font-size":"80px","font-weight":"bolder",height:"80px",width:"238px",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",margin:"auto"}},[t._v(" Успех! ")])]:t._e()],2),e("Actor",{attrs:{message:t.current_msg,emoji:t.current_emoji,delay:t.current_delay}})],1)},W=[],q=n("169a"),K=function(){var t=this,e=t._self._c;return e("div",{attrs:{"data-app":""}},[e(q["a"],{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("img",{attrs:{src:t.getImgUrl(t.img_src),alt:"",width:"50%"},on:{click:function(e){return t.closeDialog()}}})])],1)},R=[],G={name:"DialogPhoto",props:{img:String},data:()=>({dialog:!1,img_src:null}),watch:{img(t){if(""==t||null==t)return this.dialog=!1,void(this.img_src=null);this.img_src=t,this.dialog=!0}},methods:{closeDialog(){this.$emit("close-photo-dialog")},getImgUrl(t){if(""==t||null==t)return null;const e=n("416a");return e("./"+t+".jpg")}},mounted(){}},Q=G,V=Object(u["a"])(Q,K,R,!1,null,null,null),X=V.exports,Y=n("b0af"),Z=n("99d9"),tt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{display:"flex",width:"100vw",overflow:"scroll",gap:"10px"}},[t._l(t.sortedPhoto,(function(n){return e(Y["a"],{key:n.id,staticClass:"card"},[e(Z["b"],{staticStyle:{"justify-content":"center"}},[t._v(" "+t._s(n.date)+" ")]),e(Z["a"],[e("img",{attrs:{src:t.getImgUrl(n.file_name),alt:"",width:"200px"}}),e("div",[t._v(" "+t._s(n.description)+" ")])])],1)})),e(Y["a"],{staticStyle:{width:"100px",display:"flex","align-items":"center"}},[e(v["a"],{staticStyle:{height:"100%"},on:{click:function(e){return t.further()}}},[e(z["a"],{attrs:{size:"40"}},[t._v(" mdi-arrow-right-bold ")])],1)],1)],2)])},et=[],nt={name:"PhotosCarousel",components:{},props:{PhotosData:Array},data(){return{}},computed:{sortedPhoto(){return this.PhotosData.sort((t,e)=>new Date(t.date_type)>new Date(e.date_type)?1:-1)}},watch:{PhotosData(t){}},methods:{further(){this.$emit("further")},getImgUrl(t){if(""==t)return null;const e=n("416a");return e("./"+t+".jpg")}}},it=nt,st=(n("6259"),Object(u["a"])(it,tt,et,!1,null,"44c16802",null)),ot=st.exports;function rt(t){t.currentTarget.acontroller.abort()}var at={name:"TaskPhotos",components:{DialogPhoto:X,PhotosCarousel:ot,Actor:A},data:()=>({current_msg:"",current_emoji:"",current_delay:0,status_msgs:{taskphotos_dlg1:[{text:"Хм, задание с фотографиями...",delay:2600,emoji:"max_2"},{text:"О, я знаю что это.",delay:1600,emoji:"max_7"},{text:"Тебе необходимо выбрать фотографии по возрастанию даты. Для этого необходимо кликнуть на фото. Для детального просмотра фотографии необходимо нажать на нее два раза.",delay:14e3,emoji:"max_1"},{text:"У тебя получится, Любовь моя!",delay:2600,emoji:"max_5",next_status:"begin"}],taskphotos_dlg2:[{text:"Умничка какая, у тебя получилось!",delay:2900,emoji:"max_6"},{text:"Подумай что там и можешь начать распаковку.",delay:3850,emoji:"max_1"}]},status:"taskphotos_dlg1",selectedImg:null,dblclick_timer:null,click:0,selected_photos:0,photos:[{id:1,file_name:"1",date:"05.04.2023",date_type:"2023-02-25",select_number:0,description:"Ждем заказ в KFC"},{id:2,file_name:"2",date:"05.06.2023",date_type:"2023-06-05",select_number:0,description:'На смотровой площадке БЦ "Высоцкий" в Екатеринбурге'},{id:3,file_name:"3",date:"02.07.2023",date_type:"2023-07-02",select_number:0,description:'Покушали в ТЦ "Планета"'},{id:4,file_name:"4",date:"04.06.2023",date_type:"2023-06-04",select_number:0,description:"Посетили Ельцин Центр в Екатеринбурге"},{id:5,file_name:"5",date:"27.04.2023",date_type:"2023-04-27",select_number:0,description:'В бургерной "Ронни"'},{id:6,file_name:"6",date:"08.04.2023",date_type:"2023-04-08",select_number:0,description:"На дне рождении твоего Любимого"},{id:7,file_name:"7",date:"25.02.2023",date_type:"2023-02-25",select_number:0,description:"Наша первая прогулка по Кизелу"},{id:8,file_name:"8",date:"14.07.2023",date_type:"2023-07-14",select_number:0,description:"Кушаем пиццу в Додо"},{id:9,file_name:"9",date:"09.05.2023",date_type:"2023-05-09",select_number:0,description:"Салют на 9 мая"}],true_answers:{1:2,2:7,3:8,4:6,5:4,6:3,7:1,8:9,9:5}}),watch:{photos:{handler(t){this.checkComplete(t)},deep:!0}},methods:{timeout_msg(t){return new Promise(e=>setTimeout(e,t))},timeout_click(t){return new Promise((e,n)=>{const i=new DOMException("aborted!","AbortError"),s=setTimeout(()=>{e("you report!")},6e5);if(t.aborted)return clearTimeout(s),n(i);t.addEventListener("abort",()=>{clearTimeout(s),n(i)})})},async startDialog(){const t=this.status_msgs[this.status];if(void 0==t)return void(this.current_msg="");const e=document.querySelector("#msg");for(let i=0;i<t.length;i++){const s=t[i];console.log("удален"),e.removeEventListener("click",rt),this.current_msg=s.text,this.current_emoji=s.emoji,this.current_delay=s.delay,await this.timeout_msg(s.delay),console.log("добавлен");let o=new AbortController,r=o.signal;e.addEventListener("click",rt),e.acontroller=o;try{await this.timeout_click(r)}catch(n){}i==t.length-1&&(this.current_msg=""),s.hasOwnProperty("next_status")&&(this.status=s.next_status)}},completed(){this.status="taskphotos_dlg2",this.startDialog()},checkComplete(t){if("begin"==this.status){for(const e of t)if(e.select_number!=this.true_answers[e.id])return;this.status="completed",setTimeout(()=>{this.status="carousel"},3e3)}},clickPhoto(t){this.click+=1;const e=t.target.getAttribute("id"),n=this.photos.find(t=>t.id==e);void 0!=n&&(this.dblclick_timer=setTimeout(()=>{1===this.click?(this.selectPhoto(n,t),this.click=0):(clearTimeout(this.dblclick_timer),this.showPhoto(n),this.click=0)},200))},closePhoto(){this.selectedImg=null},showPhoto(t){this.selectedImg=t.file_name},shufflingPhotosSelectNumber(t){for(const e of this.photos)e.select_number>t&&e.select_number--},selectPhoto(t,e){if(0!=t.select_number)return e.target.classList.remove("selected_photo"),this.shufflingPhotosSelectNumber(t.select_number),t.select_number=0,void this.selected_photos--;e.target.classList.add("selected_photo"),t.select_number=this.selected_photos+1,this.selected_photos++},getImgUrl(t){if(""==t)return null;const e=n("416a");return e("./"+t+".jpg")}},mounted(){this.startDialog()}},lt=at,ct=(n("d78d"),Object(u["a"])(lt,J,W,!1,null,"3c84744c",null)),ut=ct.exports,dt=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"calc(100vh - 130px)"}},["begin"!=t.status&&"scan_baloons"!=t.status&&"scan_baloons_dlg1"!=t.status&&"scan_models_dlg1"!=t.status&&"labirint"!=t.status&&"taskphotos"!=t.status&&"taskphotos_dlg2"!=t.status&&"labirint_dlg2"!=t.status?e("a-scene",{attrs:{embedded:"",arjs:""}},[e("a-marker",{attrs:{id:"cake",preset:"hiro"}},[e("a-gltf-model",{attrs:{position:"0 -1 0",scale:"1.3 1.3 1.3",src:"cake2.gltf","animation-mixer":""}})],1),e("a-marker",{attrs:{id:"strawberry",type:"pattern",url:"strawberry.patt"}}),e("a-entity",{attrs:{camera:""}})],1):t._e(),"scan_baloons"==t.status?e("ScanBaloons",{on:{completed:t.scanBaloonsComplete}}):t._e(),e("Actor",{attrs:{message:t.current_msg,emoji:t.current_emoji,delay:t.current_delay}})],1)},mt=[],pt=n("490a"),gt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{margin:"10px"}},[e("video",{attrs:{id:"video",width:t.$vuetify.breakpoint.width-20,height:"300",autoplay:"",playsinline:""}}),e("a",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"booth-capture-button",attrs:{href:"#",id:"capture"}},[t._v("Сделать фото")]),e("canvas",{attrs:{id:"canvas",width:"400",height:"300"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticStyle:{display:"flex","justify-content":"center","margin-top":"10px"}},[e(pt["a"],{attrs:{indeterminate:"",color:"#8379b5"}})],1)])])},ht=[],_t=n("c9bf"),ft={name:"ScanBaloons",data(){return{loading:!1,right_words:"праздничное лакомство",current_words:""}},methods:{async recognizePhoto(t){this.loading=!0;const e=await Object(_t["createWorker"])({logger:t=>console.log(t)});(async()=>{await e.loadLanguage("rus"),await e.initialize("rus");const{data:{text:n}}=await e.recognize(t);console.log(n),this.current_words=n,this.checkCorrectWords(),this.loading=!1,await e.terminate()})()},checkCorrectWords(){const t=this.current_words.toLowerCase().includes(this.right_words);t?(console.log("это победа!!!"),this.$emit("completed")):console.log("Подумайте еще!")}},async mounted(){const t=document.getElementById("video"),e=document.getElementById("canvas"),n=e.getContext("2d"),i=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});t.srcObject=i,t.play(),document.getElementById("capture").addEventListener("click",()=>{n.drawImage(t,0,0,400,300),this.recognizePhoto(e.toDataURL("image/png"))})}},yt=ft,bt=(n("4a44"),Object(u["a"])(yt,gt,ht,!1,null,"04003ea1",null)),xt=bt.exports;function vt(t){t.currentTarget.acontroller.abort()}var wt={name:"Arjs",components:{Actor:A,ScanBaloons:xt},data(){return{status:"begin",current_msg:"",current_emoji:"",current_delay:0,status_msgs:{begin:[{text:"С днем рождения, Любимая!!!",delay:2420,emoji:"max_4"},{text:"Сегодня у тебя праздник. Проходи в комнату, тебя ждет первое задание.",delay:5800,emoji:"max_1"},{text:"Тебе нужно будет составить слово из букв на шарах. Слово это подскажет путь истинный.",delay:7050,emoji:"max_1"},{text:"Удачи!",delay:550,emoji:"max_3",next_status:"scan_baloons_dlg1"}],scan_baloons_dlg1:[{text:"После составления слов тебе нужно будет сфотографировать его для определения корректности.",delay:7950,emoji:"max_1"},{text:'Просто наведи камеру на шарики и нажми кнопку "Сделать фото"',delay:5450,emoji:"max_1",next_status:"scan_baloons"}],scan_models_dlg1:[{text:"Верно, умничка)",delay:1350,emoji:"max_6"},{text:"Слово это - подсказка тебе. Предлагаю использовать камеру и найти праздничное лакомство.",delay:7400,emoji:"max_7",next_status:"scan_models"}],scan_models_dlg2:[{text:"Хм, похоже это оно. Изучи внимательно, возможно ты что то найдешь...",delay:5800,emoji:"max_2",next_status:"strawberry"}],strawberry_found:[{text:"Ура, ты нашла вкусную клубничку!",delay:2870,emoji:"max_8"},{text:"Хочешь пойти дальше?) ",delay:1980,emoji:"max_1"},{text:"Знаю, что хочешь)",delay:1530,emoji:"max_5"},{text:"Итак, далее ты отправляешься в свободное плавание. Дам тебе небольшую подсказку - смотри под...",delay:8e3,emoji:"max_7"}],end:[{text:"Вот и все, все задания завершены.",delay:2e3,emoji:"max_3"},{text:"С днем рождения, Любимая!!! Пусть этот год принесет тебе море положительных эмоций!",delay:2e3,emoji:"max_4"}]}}},watch:{status(){this.startDialog()}},methods:{scanBaloonsComplete(){this.status="scan_models_dlg1",this.startSceneListener()},listenerFunc(t){const e=t.target.getAttribute("id");this.t=e,"cake"==e&&"scan_models"==this.status&&(this.status="scan_models_dlg2"),"strawberry"==e&&"strawberry"==this.status&&(this.status="strawberry_found")},startSceneListener(){this.$el.addEventListener("markerFound",this.listenerFunc)},endSceneListener(){this.$el.removeEventListener("markerFound",this.listenerFunc)},timeout_msg(t){return new Promise(e=>setTimeout(e,t))},timeout_click(t){return new Promise((e,n)=>{const i=new DOMException("aborted!","AbortError"),s=setTimeout(()=>{e("you report!")},6e5);if(t.aborted)return clearTimeout(s),n(i);t.addEventListener("abort",()=>{clearTimeout(s),n(i)})})},async startDialog(){const t=this.status_msgs[this.status];if(void 0==t)return void(this.current_msg="");const e=document.querySelector("#msg");for(let i=0;i<t.length;i++){const s=t[i];e.removeEventListener("click",vt),this.current_msg=s.text,this.current_emoji=s.emoji,this.current_delay=s.delay,await this.timeout_msg(s.delay),console.log("добавлен");let o=new AbortController,r=o.signal;e.addEventListener("click",vt),e.acontroller=o;try{await this.timeout_click(r)}catch(n){}i==t.length-1&&(this.current_msg=""),s.hasOwnProperty("next_status")&&(this.status=s.next_status)}}},async mounted(){await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),this.startDialog()}},jt=wt,kt=Object(u["a"])(jt,dt,mt,!1,null,null,null),St=kt.exports;i["a"].use(x["a"]),i["a"].config.productionTip=!1;const It=[{path:"/",component:St},{path:"/labirint",component:B},{path:"/taskphotos",component:ut}],Et=new x["a"]({mode:"history",routes:It});new i["a"]({vuetify:b,router:Et,render:t=>t(f)}).$mount("#app")},"606d":function(t,e,n){},"60a9":function(t,e,n){t.exports=n.p+"img/place-minus.7002d5f8.png"},6259:function(t,e,n){"use strict";n("a721")},"664e":function(t,e,n){t.exports=n.p+"img/max_2.c2e70c6a.png"},"6d96":function(t,e,n){t.exports=n.p+"img/9.dbc3781d.jpg"},8554:function(t,e,n){t.exports=n.p+"img/1.f3e9f4c1.jpg"},8589:function(t,e,n){t.exports=n.p+"img/max_6.534e3614.png"},"86ca":function(t,e,n){t.exports=n.p+"img/max_8.95d6ce01.png"},"8ae3":function(t,e,n){t.exports=n.p+"img/max_3.7b99e5ab.png"},9142:function(t,e,n){var i={"./block.png":"ea92","./empty.png":"1427","./end.png":"94ec","./line-block.png":"edc3","./line-turn-block.png":"aabf","./line-turn.png":"4c16","./line.png":"aa06","./logo.png":"cf05","./max_1.png":"22bc","./max_2.png":"664e","./max_3.png":"8ae3","./max_4.png":"eae6","./max_5.png":"a077","./max_6.png":"8589","./max_7.png":"b99e","./max_8.png":"86ca","./minus-1.png":"2909","./minus-2.png":"96f1","./place-minus.png":"60a9","./place-plus.png":"061d","./plus-2.png":"b288","./plus-4.png":"462c","./plus-5.png":"bf75","./start.png":"fd98"};function s(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="9142"},"94ec":function(t,e,n){t.exports=n.p+"img/end.d2c3ae4c.png"},"96f1":function(t,e,n){t.exports=n.p+"img/minus-2.a3788af8.png"},a077:function(t,e,n){t.exports=n.p+"img/max_5.d8a869fa.png"},a721:function(t,e,n){},aa06:function(t,e,n){t.exports=n.p+"img/line.84d22e93.png"},aabf:function(t,e,n){t.exports=n.p+"img/line-turn-block.cddc037d.png"},b288:function(t,e,n){t.exports=n.p+"img/plus-2.59dc5ae5.png"},b99e:function(t,e,n){t.exports=n.p+"img/max_7.bf18691d.png"},bafb:function(t,e,n){t.exports=n.p+"img/4.e639cf66.jpg"},bf75:function(t,e,n){t.exports=n.p+"img/plus-5.00e94d48.png"},bfc3:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d03d:function(t,e,n){"use strict";n("00fe")},d78d:function(t,e,n){"use strict";n("606d")},ea92:function(t,e,n){t.exports=n.p+"img/block.6cbcfbec.png"},eae6:function(t,e,n){t.exports=n.p+"img/max_4.f0a61795.png"},edc3:function(t,e,n){t.exports=n.p+"img/line-block.a2061d24.png"},fd98:function(t,e,n){t.exports=n.p+"img/start.54bf3d1b.png"}});
//# sourceMappingURL=app.490ae07a.js.map